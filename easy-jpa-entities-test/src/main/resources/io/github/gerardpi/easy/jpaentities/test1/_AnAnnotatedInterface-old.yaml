---
entityClassDefs:
  - name: "Address"
    extendsFromClass: "OptLockablePersistable"
    fieldDefs:
      - name: "countryCode"
        type: "java.lang.String"
      - name: "city"
        type: "java.lang.String"
      - name: "postalCode"
        type: "java.lang.String"
        notNull: true
      - name: "street"
        type: "java.lang.String"
      - name: "houseNumber"
        type: "java.lang.String"
        notNull: true
  - name: "Person"
    extendsFromClass: "OptLockablePersistable"
    fieldDefs:
      - name: "nameFirst"
        type: "java.lang.String"
      - name: "nameLast"
        type: "java.lang.String"
        notNull: true
      - name: "dateOfBirth"
        type: "java.time.LocalDate"
  - name: "PersonAddress"
    extendsFromClass: "OptLockablePersistable"
    fieldDefs:
      - name: "addressId"
        type: "java.util.UUID"
        notNull: true
        annotation: javax.persistence.JoinColumn(nullable = false, table = "address", referencedColumnName = "id")
      - name: "personId"
        type: "java.util.UUID"
        notNull: true
        annotation: javax.persistence.JoinColumn(nullable = false, table = "person", referencedColumnName = "id")
      - name: "types"
        singular: "type"
        type: java.util.SortedSet<io.github.gerardpi.easy.jpaentities.test1.PersonAddressType>
        annotation: javax.persistence.Convert(converter = io.github.gerardpi.easy.jpaentities.test1.SortedPersonAddressTypeSetConverter.class)
        notNull: true
  - name: "Item"
    extendsFromClass: "OptLockablePersistable"
    fieldDefs:
      - name: "type"
        type: "ItemType"
        notNull: true
        annotation: javax.persistence.Enumerated(javax.persistence.EnumType.STRING)
      - name: "name"
        type: "java.lang.String"
        notNull: true
      - name: texts
        annotations:
          - "javax.persistence.Column(nullable = false, length = 4096)"
          - "javax.persistence.Convert(converter = LocalizedTextsMapConverter.class)"
        type: "java.util.SortedMap<Lang, java.util.SortedMap<ItemTextType, String>>"
      - name: attributes
        annotations:
          - "javax.persistence.Column(nullable = false)"
          - "javax.persistence.Convert(converter = AttributeKeyToStringMapConverter.class)"
        type: "java.util.SortedMap<ItemAttributeKey, String>"
      - name: imageNames
        annotation: "javax.persistence.Convert(converter = SortedStringSetConverter.class)"
        type: "java.util.SortedSet<String>"
  - name: "ItemOrder"
    extendsFromClass: OptLockablePersistable
    fieldDefs:
      - name: personId
        type: java.util.UUID
        notNull: true
      - name: orderLines
        type: "java.util.List<ItemOrderLine>"
        annotation: "javax.persistence.OneToMany(mappedBy = ItemOrderLine.PROPNAME_ID, orphanRemoval = true, cascade = javax.persistence.CascadeType.ALL)"
  - name: "ItemOrderLine"
    extendsFromClass: Persistable
    fieldDefs:
      - name: itemOrder
        type: java.util.UUID
        annotation: 'javax.persistence.JoinColumn(name = "item_order_id")'
      - name: itemId
        type: java.util.UUID
        notNull: true
      - name: count
        type: java.lang.Integer
      - name: currencyCode
        type: java.lang.String
      - name: amountPerItem
        type: java.math.BigDecimal